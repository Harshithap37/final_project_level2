:root{
  --bg-900:#0b1222;
  --bg-800:#101a33;
  --panel:#101a32;
  --text:#e8eeff;
  --muted:#a7b4d8;

  --pill-bg:#18264b;
  --pill-hover:#1f2f60;
  --pill-active:#294178;

  --glow:0 0 22px rgba(0,224,255,.22);
  --deep-glow:0 0 60px rgba(154,108,255,.18);

  --btn-grad:linear-gradient(90deg, rgba(0,224,255,.22), rgba(154,108,255,.20));
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,sans-serif;
  color:var(--text);
  background:linear-gradient(180deg, var(--bg-800), var(--bg-900) 40%);
  overflow-x:hidden;
}

.topbar{
  position:sticky; top:0; z-index:30;
  display:flex; justify-content:space-between; align-items:center;
  padding:14px 22px;
  background:rgba(16,26,51,.65);
  backdrop-filter: blur(14px);
  border-bottom:1px solid rgba(255,255,255,.06);
}
.brand{display:flex; gap:12px; align-items:center; min-width:0;}
.glow-dot{ width:10px; height:10px; border-radius:50%; background:radial-gradient(circle at 35% 35%, #a6ffff, #00e0ff); box-shadow:0 0 12px #00e0ff; }
.brand-text .title{ font-weight:800; font-size:14px; letter-spacing:.2px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.brand-text .subtitle{ color:var(--muted); font-size:12px; opacity:.85; }

.nav{display:flex; gap:10px; align-items:center; flex-wrap:wrap;}
.nav-pill{
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 14px; font-size:13px; font-weight:700; letter-spacing:.2px;
  color:var(--text); text-decoration:none;
  background:var(--pill-bg);
  border:1px solid rgba(255,255,255,.06);
  border-radius:999px; transition:all .18s ease;
}
.nav-pill:hover{ background:var(--pill-hover); box-shadow:0 0 0 1px rgba(255,255,255,.07), var(--glow); }
.nav-pill.active{ background:var(--pill-active); box-shadow:0 0 0 1px rgba(255,255,255,.10), 0 0 14px rgba(0,224,255,.18); }
.nav-pill.ghost{ background:transparent }


.container{ max-width:1180px; margin:28px auto 96px; padding:0 18px; }
.card{
  background:linear-gradient(180deg, rgba(16,26,51,.86), rgba(14,22,45,.86));
  border:1px solid rgba(255,255,255,.08);
  border-radius:18px;
  box-shadow:var(--deep-glow);
}


.hero{position:relative; padding:26px; overflow:hidden;}
.hero .content{ position:relative; z-index:2; max-width:680px; }
.display{ font-size:44px; line-height:1.1; margin:0 0 10px; }
.muted{ 
  color: var(--muted);
  font-size: 0.9em;
  margin-top: 6px;
  display: block;
}

.controls{ display:flex; gap:14px; align-items:center; margin:10px 0 6px; flex-wrap:wrap;}
.controls select{ background:#17264f; border:1px solid rgba(255,255,255,.12); color:var(--text); padding:6px 10px; border-radius:8px; }
.controls .rag{ display:inline-flex; gap:6px; align-items:center; }

.chips{display:flex; flex-wrap:wrap; gap:10px; margin-top:14px;}
.chip{
  padding:9px 12px; font-size:13px; color:#d6e7ff;
  background:#14244a; border:1px solid rgba(255,255,255,.10);
  border-radius:999px; cursor:pointer; transition:transform .18s ease, box-shadow .18s ease;
}
.chip:hover{ transform:translateY(-1px); box-shadow:0 0 0 1px rgba(255,255,255,.12), 0 0 14px rgba(0,224,255,.16); }


.visual{
  position:absolute; right:0; top:0; bottom:0; width:min(46%,520px);
  pointer-events:auto; z-index:1; display:flex; align-items:center; justify-content:center;
}
.scene{width:100%; height:100%; display:block;}


.info-panel{ position:absolute; right:18px; bottom:18px; width:min(380px, 95%); }
.info-head{ display:flex; justify-content:space-between; align-items:center; padding:10px 14px; border-bottom:1px solid rgba(255,255,255,.08); }
.info-body{ padding:12px 14px; font-size:14px; color:#dfe7ff; }


.tooltip{
  position: fixed;
  z-index: 1000;
  background: rgba(18, 24, 42, 0.96);
  border: 1px solid rgba(255,255,255,0.10);
  padding: 6px 10px;
  color: #eef3ff;
  font-size: 13px;
  border-radius: 8px;
  pointer-events: none;
  box-shadow: 0 4px 18px rgba(0,0,0,0.4);
  transition: opacity .15s ease;
}


.chatbox{ margin-top:22px; padding:16px 16px 12px; }
.chat-log{
  height:320px; overflow:auto; padding:14px;
  background:#0d152b; border:1px solid rgba(255,255,255,.07);
  border-radius:14px;
}
.rowmsg{ display:flex; gap:10px; margin:12px 0; }
.avatar{ width:28px; height:28px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700; }
.avatar.user{ background:#244071; color:#d7e6ff; }
.avatar.bot{  background:#1a2b54; color:#cfe6ff; }
.bubble-wrap{ max-width:74ch; }
.msg{
  padding:10px 12px; border-radius:12px;
  background:#14244a; border:1px solid rgba(255,255,255,.10); color:#e9f1ff;
}
.msg.user{ background:#182f5f; }
.timestamp{ color:#9fb4d6; font-size:12px; margin-top:6px; user-select:none; }

.typing .dot{ width:6px; height:6px; display:inline-block; margin-right:4px; background:#9fdcff; border-radius:50%; animation:blink 1s infinite alternate }
@keyframes blink{ to{ opacity:.25 } }

.chat-input{ display:flex; gap:10px; margin-top:12px; align-items:center; }
.chat-input input{
  flex:1; height:44px; padding:0 14px; color:#daf0ff;
  background:#0d152b; border:1px solid rgba(255,255,255,.12);
  border-radius:10px; outline:none;
}
.chat-input .actions{ display:flex; gap:8px; }
.btn{
  height:44px; padding:0 16px; border-radius:10px; border:1px solid rgba(255,255,255,.12);
  background:#131f3e; color:#dfe6ff; cursor:pointer; font-weight:700;
}
.btn.primary{ background:var(--btn-grad); border-color:rgba(0,224,255,.35); box-shadow:0 0 18px rgba(0,224,255,.16); }
.btn.ghost{ background:transparent; }


.footer{
  display:flex; justify-content:space-between; align-items:center;
  gap:12px; padding:18px 22px; color:#a6b0d4; font-size:13px;
  border-top:1px solid rgba(255,255,255,.07); background:rgba(16,26,51,.55);
}
.backend{ display:flex; align-items:center; gap:8px }
.dot{ width:10px; height:10px; border-radius:50%; background:#2fd15a; box-shadow:0 0 10px rgba(47,209,90,.6) }
.dot.danger{ background:#ff5d7d; box-shadow:0 0 10px rgba(255,93,125,.6) }
.latency{ min-width:40px; text-align:right }


.section-title{ margin:0 0 12px; }
.grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:14px; }
.card-inner{ padding:14px; }


@media (max-width: 980px){
  .visual{ display:none; }
  .hero{ padding:20px; }
  .display{ font-size:36px; }
}

.settings {
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 14px;
  padding: 0;
  color: var(--text);
  background: linear-gradient(180deg, rgba(18,28,52,.96), rgba(13,22,43,.96));
  max-width: 520px;
  width: calc(100% - 28px);
  box-shadow: 0 20px 60px rgba(0,0,0,.45), 0 0 40px rgba(0,224,255,.08);
}

.settings::backdrop {
  background: rgba(5,10,20,.55);
  backdrop-filter: blur(2px);
}

.settings-head {
  display: flex; align-items: center; justify-content: space-between;
  padding: 14px 16px; border-bottom: 1px solid rgba(255,255,255,.08);
}
.settings-head h3 { margin: 0; }

.settings-body { padding: 14px 16px; display: grid; gap: 14px; }
.settings-actions {
  display: flex; justify-content: flex-end; gap: 8px;
  padding: 12px 16px; border-top: 1px solid rgba(255,255,255,.08);
}

.field { display: grid; gap: 8px; }
.field .hint { color: var(--muted); font-size: 12px; }

.field.switch {
  grid-template-columns: auto 1fr;
  align-items: center;
  gap: 10px;
}
.field.switch input[type="checkbox"] {
  width: 18px; height: 18px;
}

.settings input[type="range"] { width: 100%; }